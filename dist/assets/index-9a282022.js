import{B as S}from"./index-5fa0cce1.js";import{M as O,_ as E}from"./关闭-ce7d47e4.js";import{_ as N,F as V}from"./index-11d0786a.js";import{_ as B}from"./index-91129706.js";import{S as P,_ as T}from"./index-0d3a9212.js";import{U as p,I as G}from"./user-1b04fff0.js";import{_ as K}from"./index-ebdf65e4.js";import{_ as M,J as _,o as h,b as U,d as c,e as a,w as n,f as r,K as g,M as k,N as R,p as F,h as A}from"./index-8c58eb58.js";import"./Overflow-6df7512e.js";import"./LeftOutlined-becaf547.js";const Q={data(){return{confirmDeleteVisable:!1,clickIndex:"",modalTitle:"",open:!1,currentUE:{},selectedRows:[],selectedRowKeys:[],data:[],columns:[{title:"序号",dataIndex:"index",key:"index"},{title:"UE工程名称",dataIndex:"name",key:"name"},{title:"UE路径",dataIndex:"path",key:"path"},{title:"UE版本",dataIndex:"ueversion",key:"ueversion"},{title:"预加载",dataIndex:"preload",key:"preload"},{title:"GPU显存(G)",dataIndex:"gpumemory",key:"gpumemory"},{title:"UE工程标识",dataIndex:"urlprefix",key:"urlprefix"},{title:"附加参数",dataIndex:"param",key:"param"},{title:"操作",dataIndex:"operation",key:"operation"}],rowSelection:{onChange:(t,e)=>{this.selectedRows=e,this.selectedRowKeys=t}}}},methods:{OpenAddUE(){this.open=!0,this.modalTitle="UE工程添加",this.currentUE={}},DeleteMulti(){this.data=this.data.filter(t=>this.selectedRowKeys.includes(t.index)==!1),p.UpdateUEProgramInfo({ueprogram:this.data}).then(t=>{t.data.status=="0"&&_.success(t.data.message)})},QueryInfo(t){this.open=!0,this.modalTitle="UE工程详情",this.currentUE=this.data.find(e=>e.index==t)},handleOk(){var t=[];this.modalTitle=="UE工程添加"?(this.currentUE.index=this.data.length+1,this.data.push(this.currentUE),this.data.forEach(e=>{t.push({name:e.name,path:e.path,urlprefix:e.urlprefix,gpumemory:Number(e.gpumemory),preload:e.preload,ueversion:Number(e.ueversion),param:e.param})}),p.UpdateUEProgramInfo({ueprogram:t}).then(e=>{e.data.status=="0"&&_.success(e.data.message)})):this.modalTitle=="UE工程详情"&&(this.data.forEach(e=>{t.push({name:e.name,path:e.path,urlprefix:e.urlprefix,gpumemory:Number(e.gpumemory),preload:e.preload,ueversion:Number(e.ueversion),param:e.param})}),p.UpdateUEProgramInfo({ueprogram:t}).then(e=>{e.data.status=="0"&&_.success(e.data.message)})),this.open=!1},handleCancel(){this.open=!1},DeleteSingle(t){var e=this.data.findIndex(i=>i.index==t);e>-1&&(this.data.splice(e,1),p.UpdateUEProgramInfo({ueprogram:this.data}).then(i=>{i.data.status=="0"&&_.success(i.data.message)}))},DeleteCancel(){this.confirmDeleteVisable=!1},DeleteSingle(t){this.confirmDeleteVisable=!0,this.clickIndex=t},handleDelete(){var t=this.data.findIndex(e=>e.index==this.clickIndex);this.data.splice(t,1),p.UpdateUEProgramInfo({ueprogram:this.data}).then(e=>{e.data.status=="0"&&_.success(e.data.message)}),this.confirmDeleteVisable=!1}},mounted(){p.GetUEProgramInfo().then(t=>{this.data=t.data.ueprogram,this.data.forEach((e,i)=>{e.index=i+1,e.ueversion=="5"?e.ueversion="5":e.ueversion="4"})})}},x=t=>(F("data-v-0d779d8a"),t=t(),A(),t),z={style:{height:"100%"}},J={class:"maincontainer",style:{"background-color":"#1B1B1B","padding-top":"30px","padding-left":"40px","padding-right":"40px",height:"100%","border-radius":"16px"}},j=["onClick"],q=["onClick"],H=x(()=>c("img",{src:E,alt:"Close"},null,-1)),L=x(()=>c("img",{src:E,alt:"Close"},null,-1)),W=x(()=>c("p",{style:{color:"white"}},"是否确认删除?",-1));function X(t,e,i,Y,l,s){const u=S,I=K,m=G,d=N,y=P,C=T,b=B,D=V,v=O;return h(),U("div",z,[c("div",J,[a(u,{onClick:s.OpenAddUE,type:"primary"},{default:n(()=>[r(" 新增")]),_:1},8,["onClick"]),a(u,{onClick:s.DeleteMulti,type:"primary",ghost:"",style:{"margin-left":"10px"}},{default:n(()=>[r(" 删除")]),_:1},8,["onClick"]),a(I,{class:"custom-table",style:{height:"100%","margin-top":"20px"},columns:l.columns,dataSource:l.data,rowSelection:l.rowSelection,rowKey:"index",pagination:{pageSize:5}},{bodyCell:n(({column:o,record:f})=>[o.dataIndex=="preload"?(h(),U(g,{key:0},[r(k(f.preload==!0?"是":"否"),1)],64)):o.dataIndex=="ueversion"?(h(),U(g,{key:1},[r(k(f.ueversion=="5"?"UE5":"UE4"),1)],64)):o.dataIndex=="operation"?(h(),U(g,{key:2},[c("a",{onClick:w=>s.QueryInfo(f.index)},"编辑",8,j),c("a",{onClick:w=>s.DeleteSingle(f.index),style:{"margin-left":"8px"}},"删除",8,q)],64)):R("",!0)]),_:1},8,["columns","dataSource","rowSelection"])]),a(v,{visible:l.open,"onUpdate:visible":e[7]||(e[7]=o=>l.open=o),mask:"",onOk:s.handleOk,onCancel:s.handleCancel,title:l.modalTitle},{closeIcon:n(()=>[H]),footer:n(()=>[a(u,{onClick:s.handleCancel,type:"primary",ghost:""},{default:n(()=>[r("取消")]),_:1},8,["onClick"]),a(u,{type:"primary",onClick:s.handleOk},{default:n(()=>[r("确定")]),_:1},8,["onClick"])]),default:n(()=>[a(D,{"label-col":{span:6},"wrapper-col":{span:12}},{default:n(()=>[a(d,{label:"UE工程名称"},{default:n(()=>[a(m,{value:l.currentUE.name,"onUpdate:value":e[0]||(e[0]=o=>l.currentUE.name=o)},null,8,["value"])]),_:1}),a(d,{label:"UE路径"},{default:n(()=>[a(m,{value:l.currentUE.path,"onUpdate:value":e[1]||(e[1]=o=>l.currentUE.path=o)},null,8,["value"])]),_:1}),a(d,{label:"UE版本"},{default:n(()=>[a(C,{value:l.currentUE.ueversion,"onUpdate:value":e[2]||(e[2]=o=>l.currentUE.ueversion=o),class:"custom-select"},{default:n(()=>[a(y,{key:"4",value:"4"},{default:n(()=>[r("UE4")]),_:1}),a(y,{key:"5",value:"5"},{default:n(()=>[r("UE5")]),_:1})]),_:1},8,["value"])]),_:1}),a(d,{label:"预加载"},{default:n(()=>[a(b,{checked:l.currentUE.preload,"onUpdate:checked":e[3]||(e[3]=o=>l.currentUE.preload=o)},null,8,["checked"])]),_:1}),a(d,{label:"GPU显存(G)"},{default:n(()=>[a(m,{value:l.currentUE.gpumemory,"onUpdate:value":e[4]||(e[4]=o=>l.currentUE.gpumemory=o)},null,8,["value"])]),_:1}),a(d,{label:"UE工程标识"},{default:n(()=>[a(m,{value:l.currentUE.urlprefix,"onUpdate:value":e[5]||(e[5]=o=>l.currentUE.urlprefix=o)},null,8,["value"])]),_:1}),a(d,{label:"附加参数"},{default:n(()=>[a(m,{value:l.currentUE.param,"onUpdate:value":e[6]||(e[6]=o=>l.currentUE.param=o)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["visible","onOk","onCancel","title"]),a(v,{visible:l.confirmDeleteVisable,title:"确认删除",onOk:s.handleDelete,onCancel:s.DeleteCancel},{closeIcon:n(()=>[L]),footer:n(()=>[a(u,{onClick:s.DeleteCancel,type:"primary",ghost:""},{default:n(()=>[r("取消")]),_:1},8,["onClick"]),a(u,{type:"primary",onClick:s.handleDelete},{default:n(()=>[r("确定")]),_:1},8,["onClick"])]),default:n(()=>[W]),_:1},8,["visible","onOk","onCancel"])])}const ie=M(Q,[["render",X],["__scopeId","data-v-0d779d8a"]]);export{ie as default};
