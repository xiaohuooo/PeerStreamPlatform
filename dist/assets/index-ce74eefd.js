import{B as S}from"./index-d324b9c2.js";import{M as O,_ as E}from"./关闭-f5191884.js";import{_ as V,F as B}from"./index-ad92d3d6.js";import{_ as P}from"./index-a53eca9e.js";import{S as T,_ as G}from"./index-014a0595.js";import{U as m,I as K}from"./user-cbea64f2.js";import{_ as M}from"./index-072b6c19.js";import{_ as N,J as f,o as h,b as U,d as p,e as t,w as n,f as i,K as g,M as v,N as R,p as F,h as A}from"./index-c77eab09.js";import"./Overflow-919442b9.js";import"./LeftOutlined-1194a447.js";const Q={data(){return{confirmDeleteVisable:!1,clickIndex:"",modalTitle:"",open:!1,currentUE:{},selectedRows:[],selectedRowKeys:[],data:[],columns:[{title:"序号",dataIndex:"index",key:"index"},{title:"UE工程名称",dataIndex:"name",key:"name"},{title:"UE路径",dataIndex:"path",key:"path"},{title:"UE版本",dataIndex:"ueversion",key:"ueversion"},{title:"预加载",dataIndex:"preload",key:"preload"},{title:"GPU显存(G)",dataIndex:"gpumemory",key:"gpumemory"},{title:"UE工程标识",dataIndex:"urlprefix",key:"urlprefix"},{title:"附加参数",dataIndex:"param",key:"param"},{title:"操作",dataIndex:"operation",key:"operation"}],rowSelection:{onChange:(a,e)=>{this.selectedRows=e,this.selectedRowKeys=a}}}},methods:{OpenAddUE(){this.open=!0,this.modalTitle="UE工程添加",this.currentUE={}},DeleteMulti(){this.data=this.data.filter(a=>this.selectedRowKeys.includes(a.index)==!1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(a=>{a.data.status=="0"&&f.success(a.data.message)})},QueryInfo(a){this.open=!0,this.modalTitle="UE工程详情",this.currentUE=this.data.find(e=>e.index==a)},handleOk(){var a=[];this.modalTitle=="UE工程添加"&&(this.currentUE.index=this.data.length+1,this.data.push(this.currentUE),this.data.forEach(e=>{a.push({name:e.name,paht:e.path,urlprefix:e.urlprefix,gpumemory:e.gpumemory,preload:e.preload,ueversion:e.ueversion,param:e.param})})),m.UpdateUEProgramInfo({ueprogram:a}).then(e=>{e.data.status=="0"&&f.success(e.data.message)}),this.open=!1},handleCancel(){this.open=!1},DeleteSingle(a){var e=this.data.findIndex(r=>r.index==a);e>-1&&(this.data.splice(e,1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(r=>{r.data.status=="0"&&f.success(r.data.message)}))},DeleteCancel(){this.confirmDeleteVisable=!1},DeleteSingle(a){this.confirmDeleteVisable=!0,this.clickIndex=a},handleDelete(){var a=this.data.findIndex(e=>e.index==this.clickIndex);this.data.splice(a,1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(e=>{e.data.status=="0"&&f.success(e.data.message)}),this.confirmDeleteVisable=!1}},mounted(){m.GetUEProgramInfo().then(a=>{console.log(a.data.ueprogram),this.data=a.data.ueprogram,this.data.forEach((e,r)=>{e.index=r+1}),console.log(this.data)})}},x=a=>(F("data-v-6f03476c"),a=a(),A(),a),z={style:{height:"100%"}},J={class:"maincontainer",style:{"background-color":"#1B1B1B","padding-top":"30px","padding-left":"40px","padding-right":"40px",height:"100%","border-radius":"16px"}},j=["onClick"],q=["onClick"],H=x(()=>p("img",{src:E,alt:"Close"},null,-1)),L=x(()=>p("img",{src:E,alt:"Close"},null,-1)),W=x(()=>p("p",{style:{color:"white"}},"是否确认删除?",-1));function X(a,e,r,Y,l,s){const u=S,C=M,c=K,d=V,y=T,I=G,b=P,D=B,k=O;return h(),U("div",z,[p("div",J,[t(u,{onClick:s.OpenAddUE,type:"primary"},{default:n(()=>[i(" 新增")]),_:1},8,["onClick"]),t(u,{onClick:s.DeleteMulti,type:"primary",ghost:"",style:{"margin-left":"10px"}},{default:n(()=>[i(" 删除")]),_:1},8,["onClick"]),t(C,{class:"custom-table",style:{height:"100%","margin-top":"20px"},columns:l.columns,dataSource:l.data,rowSelection:l.rowSelection,rowKey:"index",pagination:{pageSize:5}},{bodyCell:n(({column:o,record:_})=>[o.dataIndex=="preload"?(h(),U(g,{key:0},[i(v(_.preload==!0?"是":"否"),1)],64)):o.dataIndex=="ueversion"?(h(),U(g,{key:1},[i(v(_.ueversion=="5"?"UE5":"UE4"),1)],64)):o.dataIndex=="operation"?(h(),U(g,{key:2},[p("a",{onClick:w=>s.QueryInfo(_.index)},"编辑",8,j),p("a",{onClick:w=>s.DeleteSingle(_.index),style:{"margin-left":"8px"}},"删除",8,q)],64)):R("",!0)]),_:1},8,["columns","dataSource","rowSelection"])]),t(k,{visible:l.open,"onUpdate:visible":e[7]||(e[7]=o=>l.open=o),mask:"",onOk:s.handleOk,onCancel:s.handleCancel,title:l.modalTitle},{closeIcon:n(()=>[H]),footer:n(()=>[t(u,{onClick:s.handleCancel,type:"primary",ghost:""},{default:n(()=>[i("取消")]),_:1},8,["onClick"]),t(u,{type:"primary",onClick:s.handleOk},{default:n(()=>[i("确定")]),_:1},8,["onClick"])]),default:n(()=>[t(D,{"label-col":{span:6},"wrapper-col":{span:12}},{default:n(()=>[t(d,{label:"UE工程名称"},{default:n(()=>[t(c,{value:l.currentUE.name,"onUpdate:value":e[0]||(e[0]=o=>l.currentUE.name=o)},null,8,["value"])]),_:1}),t(d,{label:"UE路径"},{default:n(()=>[t(c,{value:l.currentUE.path,"onUpdate:value":e[1]||(e[1]=o=>l.currentUE.path=o)},null,8,["value"])]),_:1}),t(d,{label:"UE版本"},{default:n(()=>[t(I,{value:l.currentUE.ueversion,"onUpdate:value":e[2]||(e[2]=o=>l.currentUE.ueversion=o),class:"custom-select"},{default:n(()=>[t(y,{key:"4",value:"4"},{default:n(()=>[i("UE4")]),_:1}),t(y,{key:"5",value:"5"},{default:n(()=>[i("UE5")]),_:1})]),_:1},8,["value"])]),_:1}),t(d,{label:"预加载"},{default:n(()=>[t(b,{checked:l.currentUE.preload,"onUpdate:checked":e[3]||(e[3]=o=>l.currentUE.preload=o)},null,8,["checked"])]),_:1}),t(d,{label:"GPU显存(G)"},{default:n(()=>[t(c,{value:l.currentUE.gpumemory,"onUpdate:value":e[4]||(e[4]=o=>l.currentUE.gpumemory=o)},null,8,["value"])]),_:1}),t(d,{label:"UE工程标识"},{default:n(()=>[t(c,{value:l.currentUE.urlprefix,"onUpdate:value":e[5]||(e[5]=o=>l.currentUE.urlprefix=o)},null,8,["value"])]),_:1}),t(d,{label:"附加参数"},{default:n(()=>[t(c,{value:l.currentUE.param,"onUpdate:value":e[6]||(e[6]=o=>l.currentUE.param=o)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["visible","onOk","onCancel","title"]),t(k,{visible:l.confirmDeleteVisable,title:"确认删除",onOk:s.handleDelete,onCancel:s.DeleteCancel},{closeIcon:n(()=>[L]),footer:n(()=>[t(u,{onClick:s.DeleteCancel,type:"primary",ghost:""},{default:n(()=>[i("取消")]),_:1},8,["onClick"]),t(u,{type:"primary",onClick:s.handleDelete},{default:n(()=>[i("确定")]),_:1},8,["onClick"])]),default:n(()=>[W]),_:1},8,["visible","onOk","onCancel"])])}const re=N(Q,[["render",X],["__scopeId","data-v-6f03476c"]]);export{re as default};
