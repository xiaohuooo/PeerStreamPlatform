import{B as b}from"./index-97987e5f.js";import{M as D,_ as k}from"./关闭-16202b4d.js";import{_ as w,F as S}from"./index-dbfdc15a.js";import{_ as O}from"./index-d970ba4c.js";import{U as m,I as V}from"./user-4d6ce6e2.js";import{_ as B}from"./index-e30e4d93.js";import"./index-2ab3627a.js";import{_ as P,J as _,o as f,b as g,d as p,e as a,w as n,f as r,K as y,M as T,N as G,p as K,h as M}from"./index-efff4e2c.js";import"./Overflow-18123a28.js";import"./LeftOutlined-c084c154.js";const N={data(){return{confirmDeleteVisable:!1,clickIndex:"",modalTitle:"",open:!1,currentUE:{},selectedRows:[],selectedRowKeys:[],data:[],columns:[{title:"序号",dataIndex:"index",key:"index"},{title:"UE工程名称",dataIndex:"name",key:"name"},{title:"UE路径",dataIndex:"path",key:"path"},{title:"预加载",dataIndex:"preload",key:"preload"},{title:"GPU显存(G)",dataIndex:"gpumemory",key:"gpumemory"},{title:"UE工程标识",dataIndex:"urlprefix",key:"urlprefix"},{title:"附加参数",dataIndex:"param",key:"param"},{title:"操作",dataIndex:"operation",key:"operation"}],rowSelection:{onChange:(t,e)=>{this.selectedRows=e,this.selectedRowKeys=t}}}},methods:{OpenAddUE(){this.open=!0,this.modalTitle="UE工程添加",this.currentUE={}},DeleteMulti(){this.data=this.data.filter(t=>this.selectedRowKeys.includes(t.index)==!1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(t=>{t.data.status=="0"&&_.success(t.data.message)})},QueryInfo(t){this.open=!0,this.modalTitle="UE工程详情",this.currentUE=this.data.find(e=>e.index==t)},handleOk(){this.modalTitle=="UE工程添加"&&(this.currentUE.index=this.data.length+1,this.data.push(this.currentUE)),m.UpdateUEProgramInfo({ueprogram:this.data}).then(t=>{t.data.status=="0"&&_.success(t.data.message)}),this.open=!1},handleCancel(){this.open=!1},DeleteSingle(t){var e=this.data.findIndex(s=>s.index==t);e>-1&&(this.data.splice(e,1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(s=>{s.data.status=="0"&&_.success(s.data.message)}))},DeleteCancel(){this.confirmDeleteVisable=!1},DeleteSingle(t){this.confirmDeleteVisable=!0,this.clickIndex=t},handleDelete(){var t=this.data.findIndex(e=>e.index==this.clickIndex);this.data.splice(t,1),m.UpdateUEProgramInfo({ueprogram:this.data}).then(e=>{e.data.status=="0"&&_.success(e.data.message)}),this.confirmDeleteVisable=!1}},mounted(){m.GetUEProgramInfo().then(t=>{console.log(t.data.ueprogram),this.data=t.data.ueprogram,this.data.forEach((e,s)=>{e.index=s+1}),console.log(this.data)})}},x=t=>(K("data-v-d6eadb96"),t=t(),M(),t),R={style:{height:"100%"}},F={class:"maincontainer",style:{"background-color":"#1B1B1B","padding-top":"30px","padding-left":"40px","padding-right":"40px",height:"100%","border-radius":"16px"}},A=["onClick"],Q=["onClick"],z=x(()=>p("img",{src:k,alt:"Close"},null,-1)),J=x(()=>p("img",{src:k,alt:"Close"},null,-1)),j=x(()=>p("p",{style:{color:"white"}},"是否确认删除?",-1));function q(t,e,s,H,l,i){const d=b,E=B,u=V,c=w,v=O,C=S,U=D;return f(),g("div",R,[p("div",F,[a(d,{onClick:i.OpenAddUE,type:"primary"},{default:n(()=>[r(" 新增")]),_:1},8,["onClick"]),a(d,{onClick:i.DeleteMulti,type:"primary",ghost:"",style:{"margin-left":"10px"}},{default:n(()=>[r(" 删除")]),_:1},8,["onClick"]),a(E,{class:"custom-table",style:{height:"100%","margin-top":"20px"},columns:l.columns,dataSource:l.data,rowSelection:l.rowSelection,rowKey:"index",pagination:{pageSize:5}},{bodyCell:n(({column:o,record:h})=>[o.dataIndex=="preload"?(f(),g(y,{key:0},[r(T(h.preload==!0?"是":"否"),1)],64)):o.dataIndex=="operation"?(f(),g(y,{key:1},[p("a",{onClick:I=>i.QueryInfo(h.index)},"编辑",8,A),p("a",{onClick:I=>i.DeleteSingle(h.index),style:{"margin-left":"8px"}},"删除",8,Q)],64)):G("",!0)]),_:1},8,["columns","dataSource","rowSelection"])]),a(U,{visible:l.open,"onUpdate:visible":e[6]||(e[6]=o=>l.open=o),mask:"",onOk:i.handleOk,onCancel:i.handleCancel,title:l.modalTitle},{closeIcon:n(()=>[z]),footer:n(()=>[a(d,{onClick:i.handleCancel,type:"primary",ghost:""},{default:n(()=>[r("取消")]),_:1},8,["onClick"]),a(d,{type:"primary",onClick:i.handleOk},{default:n(()=>[r("确定")]),_:1},8,["onClick"])]),default:n(()=>[a(C,{"label-col":{span:6},"wrapper-col":{span:12}},{default:n(()=>[a(c,{label:"UE工程名称"},{default:n(()=>[a(u,{value:l.currentUE.name,"onUpdate:value":e[0]||(e[0]=o=>l.currentUE.name=o)},null,8,["value"])]),_:1}),a(c,{label:"UE路径"},{default:n(()=>[a(u,{value:l.currentUE.path,"onUpdate:value":e[1]||(e[1]=o=>l.currentUE.path=o)},null,8,["value"])]),_:1}),a(c,{label:"预加载"},{default:n(()=>[a(v,{checked:l.currentUE.preload,"onUpdate:checked":e[2]||(e[2]=o=>l.currentUE.preload=o)},null,8,["checked"])]),_:1}),a(c,{label:"GPU显存(G)"},{default:n(()=>[a(u,{value:l.currentUE.gpumemory,"onUpdate:value":e[3]||(e[3]=o=>l.currentUE.gpumemory=o)},null,8,["value"])]),_:1}),a(c,{label:"UE工程标识"},{default:n(()=>[a(u,{value:l.currentUE.urlprefix,"onUpdate:value":e[4]||(e[4]=o=>l.currentUE.urlprefix=o)},null,8,["value"])]),_:1}),a(c,{label:"附加参数"},{default:n(()=>[a(u,{value:l.currentUE.param,"onUpdate:value":e[5]||(e[5]=o=>l.currentUE.param=o)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["visible","onOk","onCancel","title"]),a(U,{visible:l.confirmDeleteVisable,title:"确认删除",onOk:i.handleDelete,onCancel:i.DeleteCancel},{closeIcon:n(()=>[J]),footer:n(()=>[a(d,{onClick:i.DeleteCancel,type:"primary",ghost:""},{default:n(()=>[r("取消")]),_:1},8,["onClick"]),a(d,{type:"primary",onClick:i.handleDelete},{default:n(()=>[r("确定")]),_:1},8,["onClick"])]),default:n(()=>[j]),_:1},8,["visible","onOk","onCancel"])])}const le=P(N,[["render",q],["__scopeId","data-v-d6eadb96"]]);export{le as default};
